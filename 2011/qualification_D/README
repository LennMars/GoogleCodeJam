Problem D. GoroSort
解き方はいくつかあるだろうが,ここでは置換(1からnまでの要素の任意の並べ替え)におけるループに注目する.各要素に対して,要素iが正しい位置であるi番目にあればループ長は0,要素iからi番目の要素に飛びまたその要素番目に飛び…をくり返して元の位置に戻るのにn回かかればループ長はnである.例えばSampleのCase #3では長さ2のループが2つ存在する(長さ3以上のループがサンプルにないことがひっかけといえばひっかけか).長さ2以上のループを構成する要素は全て間違った位置にあるが,並び替えによって全てを正しい位置に移すことが可能である.簡単な漸化式から,長さnのループを構成するn個の要素を正しい位置に並べ替えるのに必要なhit-the-table operationsは平均n回であることが分かるので,長さnのループがm個存在するとき平均nm回,が解答となる.
